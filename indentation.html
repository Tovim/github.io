<!DOCTYPE html>

<html lang="cs">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title> - Beginning Elm</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="css/main.css">
<!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">    deformuje zobrazení font awsome -->
</head>

<body>

<section class="heading">
<h1> 3.13 </h1>
<h2>Indentace - odsazení</h2>
</section>

<div class="page-content">
<div class="container">

<div class="breadcrumb-holder">
<header id="breadcrumb" class="breadcrumb">
<a href="aa-index.html" class="breadcrumb-toggle">
  <span></span>
  <span></span>
</a>

<span class="breadcrumb-section">syntaxe</span>

<a class="breadcrumb-next" href="string.html">
<i class="fa fa-angle-right"></i><span>Next article</span>
</a>
<a class="breadcrumb-previous" href="case-expression.html">
<i class="fa fa-angle-left"></i><span>Previous article</span>
</a>
          
</header>
</div>

<article class="content">
<p>Na rozdíl od většiny jazyků, nepoužívá Elm syntaktické markery, jako závorky a složené závorky nebo středníky, k vymezení hranic kódu. Místo toho používá mezery a odsazení (indentaci). Pokud v některých situacích neumístíme kód v  určitém pořadí nebo nepoužijeme správné odsazení, vyvolá Elm chybové hlášení. Projděme si ty situace jednu po druhé.</p>

<h3 id="function-definitions">Definice funkcí</h3>

<p>Pro pochopení implikací nesprávného pořadí a identace při definování funkce použijeme příklad ze sekce  <a href="function.html#functions-with-multiple-parameters" target="_blank">Function</a>.</p>

<figure class="highlight"><pre><code class="language-haskell" data-lang="haskell"><span class="kr">module</span> <span class="nn">Playground</span> <span class="n">exposing</span> <span class="p">(</span><span class="o">..</span><span class="p">)</span>

<span class="kr">import</span> <span class="nn">Html</span>


<span class="n">escapeEarth</span> <span class="n">velocity</span> <span class="n">speed</span> <span class="o">=</span>
    <span class="kr">if</span> <span class="n">velocity</span> <span class="o">&gt;</span> <span class="mf">11.186</span> <span class="kr">then</span>
        <span class="s">"Godspeed"</span>
    <span class="kr">else</span> <span class="kr">if</span> <span class="n">speed</span> <span class="o">==</span> <span class="mf">7.67</span> <span class="kr">then</span>
        <span class="s">"Stay in orbit"</span>
    <span class="kr">else</span>
        <span class="s">"Come back"</span>


<span class="n">main</span> <span class="o">=</span>
    <span class="kt">Html</span><span class="o">.</span><span class="n">text</span> <span class="p">(</span><span class="n">escapeEarth</span> <span class="mf">11.2</span> <span class="mf">7.2</span><span class="p">)</span></code></pre></figure>

<p>Všechny zdrojové soubory Elmu začínají definicí <code class="highlighter-rouge">modulu</code>. Je zcela vpořádku, přidáme-li nad definici modulu komentář; jiný kód tam ale přijít nesmí.</p>

<figure class="highlight"><pre><code class="language-haskell" data-lang="haskell"><span class="cm">{-
   The Playground module is used to experiment with
   various concepts in Elm programming language.
-}</span>


<span class="kr">module</span> <span class="nn">Playground</span> <span class="n">exposing</span> <span class="p">(</span><span class="o">..</span><span class="p">)</span>
<span class="o">.</span>
<span class="o">.</span></code></pre></figure>

<p>Řádky pro <code class="highlighter-rouge">import</code> jsou nepovinné. Jsou-li potřebné, jsou uvedeny hned pod definicí  <code class="highlighter-rouge">modulu</code>. Jak <code class="highlighter-rouge">module</code>, tak řádky s <code class="highlighter-rouge">import</code> musí začínat úplně vlevo. Definice důležitých funkcí jsou umístěny pod <code class="highlighter-rouge">importujícími</code> řádky. Ty rovněž musí začínat úplně vlevo. Později se seznámíte s dalšími pojmy v Elmu, jako je <code class="highlighter-rouge">type</code>, jenž se rovněž umisťuje pod řádky <code class="highlighter-rouge">import</code>.</p>

<p>Všimli jste si dvou prázdných řádků, oddělujících definice funkcí <code class="highlighter-rouge">escapeEarth</code> od funkce <code class="highlighter-rouge">main</code>? Protože Elm nepoužívá např. složené závorky k vymezení těla funkcí, může být použití pouze jednoho řádku k oddělení definicí méně přehledné. Elm si vypůjčil tuto konvenci z <a href="https://www.python.org/" target="_blank">Pythonu</a>, dalšího báječnoho jazyka. Ovšem, <code class="highlighter-rouge">module</code> a <code class="highlighter-rouge">import</code> jsou odděleny pouze jedním prázdným řádkem. <!-- These spacing rules are enforced by <code class="highlighter-rouge">elm-format</code>. It is a little confusing that <code class="highlighter-rouge">elm-format</code> uses two blank lines between some definitions, and one blank line between others. Maybe that will change by the time <code class="highlighter-rouge">1.0.0</code> version is out.--></p>

<p>Aktuálně přikazuje <code class="highlighter-rouge">elm-format</code> (stylistický standard) používat čtyř mezer k odsazení těla funkce. Je to však pouhá stylystická konvence. Elmu postačí pouze jedna mezera k odsazení požadovaných bloků. <!--Because it’s still in alpha, don’t be surprised if it uses two spaces instead when <code class="highlighter-rouge">1.0.0</code> is out. In the earlier sections, you were led to believe that the body of a function, <code class="highlighter-rouge">if</code>, <code class="highlighter-rouge">let</code>, and <code class="highlighter-rouge">case</code> expressions must be indented with at least one space. That still holds true. Syntactically speaking, all Elm cares about is an indentation with at least one space. But, using more than one space improves the readability of our code.--></p>

<p class="info">If you’re interested, <a href="https://github.com/avh4/elm-format/issues/158" target="_blank">here</a> is a vigorous debate between the Elm community members on whether to use two or four spaces for indentation. We programmers are so nitpicky, aren’t we?</p>

<h3 id="if-let-and-case-expression">Výrazy IF, LET a CASE</h3>

<p>Výraz <code class="highlighter-rouge">if</code> musí být umístěn uvntř definice funkce. Jinak vyvolá Elm chybové hlášení.</p>

<figure class="highlight"><pre><code class="language-haskell" data-lang="haskell"><span class="kr">module</span> <span class="nn">Playground</span> <span class="n">exposing</span> <span class="p">(</span><span class="o">..</span><span class="p">)</span>

<span class="kr">import</span> <span class="nn">Html</span>


<span class="c1">-- Toto je neplatný kód</span>


<span class="kr">if</span> <span class="n">velocity</span> <span class="o">&gt;</span> <span class="mf">11.186</span> <span class="kr">then</span>
    <span class="s">"Godspeed"</span>
<span class="kr">else</span> <span class="kr">if</span> <span class="n">speed</span> <span class="o">==</span> <span class="mf">7.67</span> <span class="kr">then</span>
    <span class="s">"Stay in orbit"</span>
<span class="kr">else</span>
    <span class="s">"Come back"</span></code></pre></figure>

<p>Část za <code class="highlighter-rouge">then</code> a závěrečné <code class="highlighter-rouge">else</code> se mají umisťovat na další řádek, s odsazením čtyř mezer. Je zcela správné umístit výraz <code class="highlighter-rouge">if</code> uvnitř výrazů <code class="highlighter-rouge">let</code> nebo <code class="highlighter-rouge">case</code>, pokud jsou oba umístěny uvnitř funkce. Ukázku tohoto jsme již viděli v sekci <a href="let-expression.html" target="_blank">Výraz LET</a>. Zde ji uvádímě znovu.</p>

<figure class="highlight"><pre><code class="language-haskell" data-lang="haskell"><span class="n">escapeEarth</span> <span class="n">velocity</span> <span class="n">speed</span> <span class="o">=</span>
    <span class="kr">let</span>
        <span class="n">escapeVelocityInKmPerSec</span> <span class="o">=</span>
            <span class="mf">11.186</span>

        <span class="n">orbitalSpeedInKmPerSec</span> <span class="o">=</span>
            <span class="mf">7.67</span>
    <span class="kr">in</span>
        <span class="kr">if</span> <span class="n">velocity</span> <span class="o">&gt;</span> <span class="n">escapeVelocityInKmPerSec</span> <span class="kr">then</span>
            <span class="s">"Godspeed"</span>
        <span class="kr">else</span> <span class="kr">if</span> <span class="n">speed</span> <span class="o">==</span> <span class="n">orbitalSpeedInKmPerSec</span> <span class="kr">then</span>
            <span class="s">"Stay in orbit"</span>
        <span class="kr">else</span>
            <span class="s">"Come back"</span></code></pre></figure>

<p>Tělo výrazů <code class="highlighter-rouge">let</code> a <code class="highlighter-rouge">case</code> musí být rovněž odsazeno - alespoň o jednu mezeru. Standard <code class="highlighter-rouge">elm-format</code> používá čtyři mezery v obou případech pro lepší přehlednost.<br> 
Následující seznam sumarizuje dosud probraná pravidla odsazení.</p>

<dl>
  <dt>Základní pravidla pro odsazování</dt>
  <dd>
    <ul>
      <li>Deklarace <code class="highlighter-rouge">modulu</code>, <code class="highlighter-rouge">importu</code> a hlavní <code class="highlighter-rouge">funkce</code> musí začínat úplně vlevo.</li>
      <li>Je-li výraz rozdělen do více řádků, musí být celý odsazen alespoň o jednu mezeru.</li>
      <li>Související části výrazu by měly být odsazeny o stejný počet mezer. Toto pravidlo je zejména důležité ve výrazu <code class="highlighter-rouge">let</code>.</li>
    </ul>
  </dd>
</dl>
</article>

<nav class="pagination">
<a class="pagination-next" href="case-expression.html">
<em>&larr; Previous</em>
<strong>Výraz CASE</strong>
</a>
<a class="pagination-next" href="string.html">
<em>Next &rarr;</em><strong>Řetězce</strong>
</a>
<a class="elevator" href="aa-index.html"><i class="fa fa-angle-up"></i>
<span>Back to top</span>
</a>
</nav>

</div>
</div>



<footer id="footer" class="page-footer">
<footer class="container">
 <p>Copyright © 2016 Pawan Poudel. All Rights Reserved.</p>
</footer>
</footer>

  </body>
</html>
